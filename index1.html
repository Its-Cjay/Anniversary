<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Letter</title>
    <style>
        /* Dark Theme with Twinkling Stars */
        body {
            background: radial-gradient(circle at center, #0a0a0a, #000);
            color: white;
            font-family: 'Arial', sans-serif;
            margin: 0;
            min-height: 100vh; /* Changed from height to min-height */
            position: relative;
        }

        /* Star Background */
        .stars {
            position: fixed; /* Changed from absolute to fixed */
            width: 100%;
            height: 100%;
            background: url('https://www.transparenttextures.com/patterns/stardust.png');
            animation: twinkle 2s infinite alternate;
            z-index: 0;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Music Controls */
        .music-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .music-controls:hover {
            transform: scale(1.1);
        }

        .music-controls i {
            color: white;
            font-size: 24px;
        }

        /* Letter Container - Now Scrollable */
        .letter-container {
            position: relative;
            margin: 50px auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
            width: 60%;
            backdrop-filter: blur(10px);
            border: 4px solid #ff6699;
            z-index: 10;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Flower Decorations */
        .flower-left, .flower-right {
            position: fixed;
            width: 80px;
            z-index: 20;
        }

        .flower-left {
            left: 20px;
            top: 20px;
            transform: rotate(-10deg);
        }

        .flower-right {
            right: 20px;
            top: 20px;
            transform: rotate(10deg);
        }

        .letter-container h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #ff6699;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            text-align: center;
        }

        .letter-container p {
            font-size: 1.3rem;
            margin: 12px 0;
            color: white;
            line-height: 1.6;
            text-align: justify;
            text-justify: inter-word;
        }

        .closing-line {
            text-align: right;
            margin-right: 20%;
            font-style: italic;
        }

        .signature {
            text-align: right;
            margin-right: 20%;
            font-weight: bold;
            font-size: 1.4rem;
        }

        /* Fancy Button */
        button {
            margin-top: 20px;
            padding: 12px 25px;
            background: linear-gradient(to bottom, #ff4d4d, #cc0000);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.4rem;
            transition: background 0.3s ease, transform 0.2s ease;
            position: relative;
            z-index: 10;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        button:hover {
            background: linear-gradient(to bottom, #ff3333, #b30000);
            transform: scale(1.05);
        }

        /* Fade-in Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .letter-container {
                width: 85%;
                padding: 30px 20px;
                margin: 30px auto;
            }
            .flower-left, .flower-right {
                width: 60px;
            }
            .flower-left {
                left: 10px;
            }
            .flower-right {
                right: 10px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="stars"></div>

    <div class="letter-container">
        <img src="images/flowers.png" alt="Flower" class="flower-left">
        <img src="images/flowers.png" alt="Flower" class="flower-right">

        <h1>To The Prettiest Girl in the World</h1>
    <p>Happy 2 Years my love! ðŸ’–</p>
    <p>Time flies so fast, it feels like it was just yesterday when we went to Cancai together, the place that brought us closer. Our relationship was 
    something truly unexpected because you've always felt way out of my league, but I guess fate was on my side with this one (and no, waka nako gi lumay ha haha , I swear!).
    Our relationship wasn't always filled with butterflies. There were lots of uncertainties and challenges, lots of almost break up situation. But here we are love, 
    we made it! And it made our relationship and bond even strongerðŸ’™. Honestly, before you, I was ignorant to love. I didn't truly know what it felt like to be genuinely 
    loved until you came into my life. You accepted me for who I am, even the parts of myself that I struggle to love. Thankyou for always being by my side love, for always choosing to stay, for showing how it feels to be 
	unconditionally loved, and for everything. Tbh it'd be too long if i say everything right now. I know for sure just how great of a person you are, and I'm not even sure if there's someone as hardworking as you.
	Baby, keep being the amazing person that you are. 
    Know that I'll always have your back no matter what, so just keep on chasing your dreams, and I'll be right here by your side cheering you on. Always proud of you baby!ðŸ’™ðŸ’™ðŸ’™</p>
    
    <p class="closing-line">Forever yours,</p>
    <p class="signature">Your one and only</p>
        <button onclick="goBack()">Back</button>
    </div>

    <!-- Music Player -->
    <div class="music-controls" onclick="toggleMusic()">
        <i class="fas fa-music"></i>
    </div>
    <audio id="bgMusic" loop>
        <source src="images/blue.mp3" type="audio/mpeg">
    </audio>

    <script>
    function goBack() {
        const music = document.getElementById('bgMusic');
        localStorage.setItem('musicPlaying', !music.paused);
        localStorage.setItem('musicTime', music.currentTime);
        window.location.href = "index.html";
    }

    const music = document.getElementById('bgMusic');
    let isPlaying = localStorage.getItem('musicPlaying') === 'true';

    window.addEventListener('load', function() {
        if (isPlaying) {
            music.play();
            document.querySelector('.music-controls i').classList.add('fa-volume-up');
            document.querySelector('.music-controls i').classList.remove('fa-music');
        }
    });

    function toggleMusic() {
        if (isPlaying) {
            music.pause();
            document.querySelector('.music-controls i').classList.remove('fa-volume-up');
            document.querySelector('.music-controls i').classList.add('fa-music');
        } else {
            music.play();
            document.querySelector('.music-controls i').classList.add('fa-volume-up');
            document.querySelector('.music-controls i').classList.remove('fa-music');
        }
        isPlaying = !isPlaying;
        localStorage.setItem('musicPlaying', isPlaying);
    }

    document.addEventListener('click', function() {
        if (!isPlaying && localStorage.getItem('musicPlaying') !== 'false') {
            music.play();
            isPlaying = true;
            document.querySelector('.music-controls i').classList.add('fa-volume-up');
            document.querySelector('.music-controls i').classList.remove('fa-music');
            localStorage.setItem('musicPlaying', true);
        }
    }, { once: true });
    </script>
</body>
</html>
